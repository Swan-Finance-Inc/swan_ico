webpackJsonp([16],{"./app/containers/MyReferal/index.js":function(e,t,a){"use strict";function n(e){return{type:D,data:e}}function r(e){return{type:S,data:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments[1];switch(t.type){case E:return e;case S:return e.set("loading",!0);case D:return e.set("loading",!1).set("referData",t.data);default:return e}}function s(){var e,t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(" inside the saga of referals "),e={headers:{"x-auth-token":localStorage.getItem("token")}},a.next=5,Object(M.a)(A.a.user.getReferData,e);case 5:if(t=a.sent,console.log(t),!t.success){a.next=13;break}return console.log(" in success"),a.next=11,Object(M.b)(n(t));case 11:a.next=14;break;case 13:console.log("from saga",t);case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(0),a.next=20,Object(M.b)(Object(H.a)(a.t0));case 20:case"end":return a.stop()}},B,this,[[0,16]])}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(M.d)(S,s)];case 2:case"end":return e.stop()}},F,this)}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){return{dispatch:e,getReferalData:function(t){return e(r(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var p=a("./node_modules/react/react.js"),m=a.n(p),b=(a("./node_modules/prop-types/index.js"),a("./node_modules/react-redux/es/index.js")),g=a("./node_modules/reselect/es/index.js"),y=a("./node_modules/redux/es/index.js"),h=a("./node_modules/react-helmet/lib/Helmet.js"),v=a("./node_modules/react-table/lib/index.js"),j=a.n(v),_=a("./app/components/LoadingSpinner/Loadable.js"),x=a("./app/utils/injectSaga.js"),O=a("./app/utils/injectReducer.js"),R=(a("./node_modules/react-copy-to-clipboard/lib/index.js"),function(e){return e.get("myReferal")}),k=function(){return Object(g.a)(R,function(e){return e.toJS()})},w=k,T=a("./app/components/Refer/Loadable.js"),E="app/MyReferal/DEFAULT_ACTION",S="app/MyReferal/GET_REFERAL_DATA",D="app/MyReferal/GET_REFER_SUCCESS",N=a("./node_modules/immutable/dist/immutable.js"),P=Object(N.fromJS)({loading:!1,referData:""}),C=o,M=a("./node_modules/redux-saga/es/effects.js"),A=a("./app/utils/api.js"),H=(a("./node_modules/react-router-redux/index.js"),a("./app/containers/DashBoardWelcomePage/actions.js")),B=regeneratorRuntime.mark(s),F=regeneratorRuntime.mark(c);a.d(t,"MyReferal",function(){return Z});var L=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,a,n,r){var o=t&&t.defaultProps,s=arguments.length-3;if(a||0===s||(a={}),a&&o)for(var c in o)void 0===a[c]&&(a[c]=o[c]);else a||(a=o||{});if(1===s)a.children=r;else if(s>1){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+3];a.children=i}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:a,_owner:null}}}(),z=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=L(h.Helmet,{},void 0,L("title",{},void 0,"My Referrals"),L("meta",{name:"description",content:"Description of My Referrals"})),J=L("div",{className:"panel-heading"},void 0,"Transactions"),Z=function(e){function t(e){l(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={users:[{local:{email:"quillhash@gmail.com"},_id:"5c127ab8caaefa2fc7c1c63b",created_at:"2018-12-13T15:28:57.039Z"},{local:{email:"quillaudit@gmail.com"},_id:"5c127ab8caaefa2fc7c1c63b",created_at:"2018-12-01T15:28:57.039Z"}],transactions:[{tokens:5e11,status:"confirmed",created_at:"2018-12-13T16:48:08.112Z"}],userCollumn:[{Header:"Email",accessor:"local.email",className:"name"},{Header:"Created At",accessor:"created_at",className:"created_at"}],transactionCollumn:[{Header:"Status",accessor:"status",className:"status"},{Header:"Email",accessor:"initiatedBy.email",className:"status"},{Header:"Tokens can be earned",accessor:function(e){return.01*e.referBonus*(100*e.tokens/(e.bonus+100))},className:"email",id:"tokensCanbeEarned"},{Header:"Created At",accessor:"created_at",className:"created_at"}],code:"",link:"",percent:""},a}return d(t,e),z(t,[{key:"componentDidMount",value:function(){this.props.getReferalData()}},{key:"componentWillReceiveProps",value:function(e){if(e.referData&&e.referData.success){console.log(" inside success in willrecieveprops ");var t=[],a=[],n=e.referData;console.log(n," data in willrecieveprops"),n.transactions.forEach(function(e,a){e.forEach(function(e,a){return t.push(e)})}),n.users.forEach(function(e,t){return a.push(e)}),this.setState({transactions:t,users:a})}}},{key:"render",value:function(){console.log(this.props," props in myreferal"),console.log(this.state," state in myreferal");var e=this.props.loading;return L("div",{id:"content",className:"ui-content ui-content-aside-overlay"},void 0,I,L("div",{className:"ui-content-body"},void 0,L("div",{className:"ui-container container-fluid"},void 0,0!=this.props.code.amountPercent?L(T.a,{code:this.props.code,icoFlag:!1}):"",L("div",{className:"panel panel-default"},void 0,J,L("div",{className:"row"},void 0,L("div",{className:"col-sm-10 col-sm-offset-1"},void 0,e?L(_.a,{style:{alignItems:"center",marginTop:"35px",marginBottom:"45px",background:"#fff"}}):L(j.a,i({className:"-striped -highlight",showPaginationBottom:!0,style:{marginTop:"20px",fontSize:"12px",cursor:"pointer"},data:this.state.transactions,columns:this.state.transactionCollumn,pageSizeOptions:[5,10],noDataText:"No Transaction Found",rowsText:"transactions",getTdProps:function(e,t,a,n){return{onClick:function(e,a){console.log(t),a&&a()}}},defaultPageSize:5},"showPaginationBottom",!0))))))))}}]),t}(m.a.PureComponent),q=Object(g.b)({myreferal:w(),loading:function(){return Object(g.a)(R,function(e){return e.get("loading")})}(),referData:function(){return Object(g.a)(R,function(e){return e.get("referData")})}()}),G=Object(b.b)(q,f),U=Object(O.a)({key:"myReferal",reducer:C}),W=Object(x.a)({key:"myReferal",saga:c});t.default=Object(y.compose)(U,W,G)(Z)}});