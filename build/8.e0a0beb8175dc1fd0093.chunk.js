webpackJsonp([8],{"./app/containers/App/selectors.js":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i});var o=r("./node_modules/reselect/es/index.js"),a=function(e){return e.get("route")},n=function(e){return e.get("global")},s=function(){return Object(o.a)(a,function(e){return e.get("location").toJS()})},i=function(){return Object(o.a)(n,function(e){return e.toJS()})}},"./app/containers/LoginPage/index.js":function(e,t,r){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments[1];switch(t.type){case C:return e.set("loading",!0).set("error",!1).setIn(["user","email"],t.data.email).setIn(["user","password"],t.data.password).setIn(["user","rememberMe"],t.data.rememberMe).setIn(["user","otpToken"],t.data.otpToken).setIn(["user","captcha"],t.data.captcha);case I:return e.set("loading",!1).set("error",!1).set("errorMessage",!1);case A:return t.error?e.set("error",!0).set("errorMessage",t.error).set("loading",!1):e.set("error",!0).set("loading",!1);case L:return e.set("errorMessage",!1).set("error",!1);case M:return e.set("emailVerified",!0).set("initialEmail",t.data);default:return e}}function a(e){return{type:C,data:e}}function n(e){return{type:I,userData:e}}function s(e){return{type:A,error:e}}function i(){return{type:L}}function c(){return{type:T}}function l(){var e,t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("listening to api hit"),r.prev=1,console.log("listening to api hit"),r.next=5,Object(V.c)(S());case 5:return e=r.sent,console.log(e," ujuuuuuuuu"),r.next=9,Object(V.a)(D.a.user.login,e);case 9:if(t=r.sent,!t.success){r.next=32;break}if(console.log("i m gere"),void 0===t.reset){r.next=20;break}if(console.log("i m gere 1"),t.reset){r.next=18;break}return console.log("i m gere 2"),r.next=18,Object(V.b)(Object(_.push)("/forceReset"));case 18:r.next=30;break;case 20:return console.log("i m gere 3"),localStorage.setItem("token",t.authToken),r.next=24,Object(V.b)(n());case 24:return r.next=26,Object(V.b)(Object(B.k)(t.is2FA_enabled));case 26:return r.next=28,Object(V.b)(Object(_.push)("/dashboard"));case 28:return r.next=30,Object(V.b)(Object(B.g)());case 30:r.next=39;break;case 32:if(t.success){r.next=39;break}return r.next=35,Object(V.b)(s(t.message));case 35:return r.next=37,Object(V.b)(i());case 37:return r.next=39,Object(V.b)(Object(B.g)());case 39:r.next=47;break;case 41:return r.prev=41,r.t0=r.catch(1),r.next=45,Object(V.b)(Object(G.a)());case 45:return r.next=47,Object(V.b)(i());case 47:case"end":return r.stop()}},q,this,[[1,41]])}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.e)(C,l);case 2:case"end":return e.stop()}},J,this)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){return{dispatch:e,push:function(t){return e(Object(_.push)(t))},login:function(t){return e(Object(B.l)(t))},loginUser:function(t){return e(a(t))},removeError:function(){return e(i())},removeErrorGlobal:function(){return e(Object(B.g)())},disabled2fa:function(){return e(Object(B.j)())},stateClear:function(){return e(c())},removeOuterError:function(){return e(Object(B.h)())},removeInnerReset:function(){return e(Object(B.f)())}}}Object.defineProperty(t,"__esModule",{value:!0});var g=r("./node_modules/react/react.js"),b=r.n(g),h=(r("./node_modules/prop-types/index.js"),r("./node_modules/react-redux/es/index.js")),v=r("./node_modules/reselect/es/index.js"),y=r("./node_modules/redux/es/index.js"),j=r("./node_modules/react-toastify/lib/index.js"),w=r("./node_modules/react-router/index.js"),O=r("./node_modules/react-router-dom/index.js"),x=r("./app/utils/injectSaga.js"),_=r("./node_modules/react-router-redux/index.js"),k=r("./node_modules/glamor/lib/index.js"),N=r("./app/utils/injectReducer.js"),E=function(e){return e.get("loginPage")},S=function(){return Object(v.a)(E,function(e){return e.get("user").toJS()})},P=r("./app/containers/App/selectors.js"),R=r("./node_modules/immutable/dist/immutable.js"),C="LoginPage/LOGIN_USER",I="LoginPage/LOGIN_USER_SUCCESS",A="LoginPage/LOGIN_USER_ERROR",L="LoginPage/LOGIN_USER_ERROR_MESSAGE_REMOVE",M="LoginPage/EMAIL_VERIFIED",T="LoginPage/EMAIL_STATE_CLEAR",U=Object(R.fromJS)({loading:!1,error:!1,errorMessage:!1,user:{email:"",password:""},emailVerified:!1,initialEmail:!1}),F=o,V=r("./node_modules/redux-saga/es/effects.js"),B=r("./app/containers/App/actions.js"),D=r("./app/utils/api.js"),G=r("./app/containers/DashBoardWelcomePage/actions.js"),q=regeneratorRuntime.mark(l),J=regeneratorRuntime.mark(u),W=r("./node_modules/react-google-recaptcha/lib/recaptcha-wrapper.js"),Y=r.n(W),$=r("./app/images/logoo.gif"),z=r.n($);r.d(t,"LoginPage",function(){return ie});var H=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,o,a){var n=t&&t.defaultProps,s=arguments.length-3;if(r||0===s||(r={}),r&&n)for(var i in n)void 0===r[i]&&(r[i]=n[i]);else r||(r=n||{});if(1===s)r.children=a;else if(s>1){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+3];r.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:r,_owner:null}}}(),K=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),Z=H(w.Redirect,{to:"/dashboard"}),Q=H("header",{className:"header"},void 0,H("div",{className:"container"},void 0,H("div",{className:"row"},void 0,H("div",{className:"col-xs-5 col-sm-6 col-sm-6 col-md-2 clearfix"},void 0,H("div",{className:"logo"},void 0,H(O.Link,{to:"/"},void 0," ",H("img",{src:z.a,alt:"Pexo"})))),H("div",{className:"col-xs-7 col-sm-6 col-md-10"},void 0,H("div",{className:"header-right"},void 0,H("div",{className:"header-btn-group "},void 0,H("div",{className:"header-btn"},void 0,H(O.Link,{to:"/signup"},void 0,"Create Account")))))))),X=H("div",{className:"card-header"},void 0,H("h1",{},void 0,"Sign In")),ee=H("div",{className:"form-group newInput"},void 0,H("label",{htmlFor:"emailAddress",className:"form-label"},void 0,"Email Address"),H("input",{id:"emailAddress",type:"email",name:"email",className:"form-input form-control ",placeholder:"Your Email",required:!0,autoComplete:"email"})),te=H("label",{htmlFor:"password",className:"form-label"},void 0,"Password"),re=H("input",{id:"password",type:"password",className:"form-input form-control",name:"password",placeholder:"Your Password",autoComplete:"off",required:!0}),oe=H("div",{className:"form-group"},void 0,H("label",{htmlFor:"token",className:"form-label"},void 0,"Two-Factor Code (if enabled)"),H("input",{id:"token",type:"number",name:"token",className:"form-input form-control",placeholder:"Google Authenticator",autoComplete:"off"})),ae=H("div",{className:"text-center"},void 0,H("button",{type:"submit",className:"form-button"},void 0,"Sign In")),ne=H("div",{className:"forgot"},void 0,H(O.Link,{to:"/forgotPassword"},void 0,"Forgot Password?")),se=H("div",{className:"forgot"},void 0,H(O.Link,{to:"/resendConfirmation"},void 0,"Didn't receive confirmation instructions?")),ie=function(e){function t(e){d(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.showPassWord=function(e){console.log(e," inside show password");var t=document.getElementById("password");"password"===t.type?t.type="text":t.type="password","fa fa-fw fa-eye"===r.state.password_class?r.setState({password_class:"fa fa-fw fa-eye-slash"}):"fa fa-fw fa-eye-slash"===r.state.password_class&&r.setState({password_class:"fa fa-fw fa-eye"})},r.state={"g-recaptcha-response":"",captcha:!1,password_class:"fa fa-fw fa-eye-slash"},r.formSubmit=r.formSubmit.bind(r),r.notify=r.notify.bind(r),r.formValidation=r.formValidation.bind(r),r.onChange=r.onChange.bind(r),r}return p(t,e),K(t,[{key:"componentDidMount",value:function(){if(this.props.removeInnerReset(),this.props.global.passwordResetSuccess&&this.notifySuccess("Your password has been changed successfully"),this.props.global.resetOuterError&&(this.notify("Invalid URL ,Try again with valid url"),this.props.removeOuterError()),this.props.error&&this.notify(this.props.errorMessage),this.props.global.initialEmail.length>0){this.notifySuccess("Your account has been verified.");document.getElementById("emailAddress").value=this.props.global.initialEmail}}},{key:"componentWillReceiveProps",value:function(e){e.error&&this.notify(e.errorMessage)}},{key:"shouldComponentUpdate",value:function(e){if(e)return!0}},{key:"onChange",value:function(e){this.setState({"g-recaptcha-response":e}),e.length>0&&this.setState({captcha:!0})}},{key:"notify",value:function(e){j.toast.error(H("h5",{},void 0,e))}},{key:"notifySuccess",value:function(e){j.toast.success(e)}},{key:"formValidation",value:function(e){var t=e.email,r=e.password;return t.length<=0?(this.notify("Enter your Email"),!1):0===r.length?(this.notify("Enter your password"),!1):!!r.length&&(r.length>0&&t.length>0&&(this.setState({captcha:!1}),window.grecaptcha.reset(),!0))}},{key:"formSubmit",value:function(e){e.preventDefault();var t=document.getElementById("remember"),r=void 0;r=!!t.checked;var o={email:e.target[0].value,password:e.target[1].value,otpToken:e.target[2].value,rememberMe:r,captcha:this.state["g-recaptcha-response"]};this.formValidation(o)?this.props.loginUser(o):this.notify("Something went wrong")}},{key:"render",value:function(){return localStorage.token?Z:H("div",{className:"signin"},void 0,H(j.ToastContainer,{position:"top-center",progressClassName:Object(k.css)({height:"100px"}),type:"error",autoClose:2800,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!1}),H("div",{className:"wrapper"},void 0,Q,H("section",{className:"signin-block login"},void 0,H("div",{className:"container"},void 0,H("div",{className:"row"},void 0,H("div",{className:"col-sm-6 col-sm-offset-3 "},void 0,X,H("div",{className:"signin-card-body"},void 0,H("form",{className:!0,onSubmit:this.formSubmit},void 0,ee,H("div",{className:"form-group"},void 0,te,re,H("i",{onClick:this.showPassWord,className:this.state.password_class+" field-icon"})),oe,H("div",{className:"signInCaptcha form-group text-center"},void 0,b.a.createElement(Y.a,{type:"image",ref:"recaptcha",className:"form-captcha",required:!0,sitekey:"6LdZP14UAAAAAB0O_-727DW-KoaFizUiwBhr4wmk",onChange:this.onChange})),H("div",{className:"form-group text-center"},void 0,H("label",{className:"form-check-label",htmlFor:"user_accepted_policies"},void 0,H("input",{id:"remember",className:"boolean required form-check-input",label:"false","data-title":"Remember me!","data-placement":"left","data-trigger":"manual","data-offset":"0, 55","aria-required":"true",type:"checkbox",name:"remember",style:{marginRight:"10px"}}),"Remember me")),ae,ne,se))))))))}}]),t}(b.a.PureComponent),ce=Object(v.b)({user:S(),errorMessage:function(){return Object(v.a)(E,function(e){return e.get("errorMessage")})}(),global:Object(P.a)(),error:function(){return Object(v.a)(E,function(e){return e.get("error")})}()}),le=Object(h.b)(ce,f),ue=Object(N.a)({key:"loginPage",reducer:F}),de=Object(x.a)({key:"loginPage",saga:u});t.default=Object(y.compose)(ue,de,le)(ie)}});